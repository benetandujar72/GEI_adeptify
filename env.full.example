# ============================================================================
# ENTORNO GENERAL
# ============================================================================
NODE_ENV=production
HOST=0.0.0.0
PORT=3000

# ============================================================================
# BASE DE DATOS (usa preferentemente DATABASE_URL). Si usas los campos sueltos,
# la app construirá la URL internamente.
# ============================================================================
# Render/Cloud (recomendado)
DATABASE_URL=postgresql://USER:PASSWORD@HOST:5432/DBNAME?sslmode=require

# Alternativa por campos (si no usas DATABASE_URL)
DB_HOST=HOST
DB_PORT=5432
DB_NAME=gei_unified
DB_USER=gei_user
DB_PASSWORD=gei_password
DB_SSL=true

# ============================================================================
# SESIONES / JWT
# ============================================================================
SESSION_SECRET=cambia-esto-por-una-clave-aleatoria-larga
JWT_SECRET=cambia-esto-por-un-jwt-secret-largo
JWT_REFRESH_SECRET=cambia-esto-por-un-jwt-refresh-secret
JWT_EXPIRES_IN=24h

# ============================================================================
# CORS / URLs PÚBLICAS
# ============================================================================
CORS_ORIGIN=https://tu-dominio.com
ALLOWED_ORIGINS=https://tu-dominio.com,https://www.tu-dominio.com

# URLs públicas (opcional, para clientes o plantillas absolutas)
PRODUCTION_URL=https://tu-dominio.com
API_BASE_URL=https://tu-dominio.com/api
CLIENT_BASE_URL=https://tu-dominio.com
FRONTEND_URL=https://tu-dominio.com

# ============================================================================
# REDIS / EVENT BUS (para caché, sesión y eventos con Redis Streams)
# ============================================================================
# Si usas Redis gestionado con TLS (Render/Upstash): rediss://
REDIS_URL=rediss://USER:PASSWORD@HOST:PORT
EVENTS_CONSUMER_GROUP=gei-consumers

# ============================================================================
# LOGS / MONITORIZACIÓN / RENDIMIENTO
# ============================================================================
LOG_LEVEL=info
ENABLE_DEBUG_LOGS=false
ENABLE_AUDIT_LOGS=true
ENABLE_METRICS=true
ENABLE_CACHE=true
CACHE_TTL=3600
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX_REQUESTS=1000
ENABLE_COMPRESSION=true

# ============================================================================
# MÓDULOS / FEATURES
# ============================================================================
ADEPTIFY_ENABLED=true
ASSISTATUT_ENABLED=true
ENABLE_BACKUP=true
BACKUP_INTERVAL=24h

# Desarrollo (opcional, no usar en prod)
ENABLE_DEV_LOGIN=false
DEV_USER_EMAIL=admin@example.com
DEV_USER_PASSWORD=admin123
SKIP_AUTH_IN_DEV=false

# ============================================================================
# OAUTH GOOGLE (opcional)
# ============================================================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=https://tu-dominio.com/auth/google/callback
GOOGLE_REDIRECT_URI=https://tu-dominio.com/auth/google/callback

# Google Calendar (opcional)
GOOGLE_CALENDAR_ENABLED=false
GOOGLE_CALENDAR_ID=primary
GOOGLE_CALENDAR_SYNC_INTERVAL=30
GOOGLE_CALENDAR_EVENT_PREFIX=[GEI]
GOOGLE_CALENDAR_DEFAULT_LOCATION=Institut

# ============================================================================
# IA (opcional)
# ============================================================================
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GEMINI_API_KEY=
GOOGLE_API_KEY=

# ============================================================================
# EMAIL SMTP (opcional)
# ============================================================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=

# ============================================================================
# PAGOS (opcional)
# ============================================================================
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PUBLISHABLE_KEY=

# ============================================================================
# GATEWAY Y MICROSERVICIOS (solo si despliegas por separado)
# Si usas un solo Web Service, puedes dejar estas URLs vacías.
# ============================================================================
GATEWAY_PORT=5000
USER_SERVICE_URL=
STUDENT_SERVICE_URL=
COURSE_SERVICE_URL=
RESOURCE_SERVICE_URL=
COMMUNICATION_SERVICE_URL=
ANALYTICS_SERVICE_URL=
AUTH_SERVICE_URL=
NOTIFICATION_SERVICE_URL=
FILE_SERVICE_URL=
SEARCH_SERVICE_URL=
LLM_GATEWAY_URL=
AI_SERVICES_URL=
MCP_ORCHESTRATOR_URL=
MCP_SERVERS_URL=


